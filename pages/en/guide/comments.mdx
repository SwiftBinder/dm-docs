# Comments

Complete guide to document discussions — adding, replying, and managing comments.

---

## Overview

Comments let you discuss documents directly within Document Manager. No more email chains or separate discussion tools — everything stays attached to the document.

{/* SCREENSHOT: comments-overview.png
     Capture the Comments tab showing:
     - Multiple comments from different users
     - Thread structure visible
     - Reply buttons
     - Resolved/unresolved states
     - Clear, well-populated example
*/}

---

## Accessing Comments

### Opening the Comments Tab

1. Open any document
2. Click the **Comments** tab

### Comments Indicator

On the document list, you may see a comment count indicator showing how many comments exist.

---

## Adding Comments

### Creating a New Comment

1. Go to the **Comments** tab
2. Find the comment input area at the bottom
3. Type your comment
4. Click **Post**

{/* SCREENSHOT: comment-input-area.png
     Capture the comment input showing:
     - Text input field/textarea
     - Post button
     - Placeholder text if any
*/}

### What to Comment About

| Purpose | Example Comment |
|---------|-----------------|
| Ask a question | "Is this the latest version from the client?" |
| Give feedback | "The numbers in Table 2 don't add up correctly." |
| Request changes | "Please add the disclaimer text to page 1." |
| Provide updates | "I've addressed all the review comments in v3." |
| Approval | "Reviewed and approved by legal team." |

### Comment Formatting

Comments are plain text. Keep them:
- Clear and concise
- Professional
- Focused on one topic per comment

---

## Comment Threads

### What Are Threads?

When you reply to a comment, it creates a thread — a grouped conversation under the original comment.

{/* SCREENSHOT: comment-thread-example.png
     Capture a comment thread showing:
     - Original comment
     - 2-3 replies indented below
     - Visual hierarchy showing thread structure
     - Different users participating
*/}

### Replying to Comments

1. Find the comment you want to respond to
2. Click **Reply**
3. Type your response
4. Click **Post**

### Thread Best Practices

- **Reply to stay on topic** — Use Reply when your comment relates to an existing discussion
- **New comment for new topics** — Don't hijack threads with unrelated content
- **Keep threads focused** — One topic per thread

---

## Resolving Comments

### What Resolving Means

Marking a comment as resolved indicates:
- The question has been answered
- The issue has been addressed
- The discussion is complete

### How to Resolve

1. Find the comment to resolve
2. Click the **Resolve** button (✓ or "Resolve" text)

{/* SCREENSHOT: resolve-comment-button.png
     Capture a comment showing:
     - The Resolve button clearly visible
     - Unresolved state
*/}

### Resolved State

{/* SCREENSHOT: resolved-comment.png
     Capture a resolved comment showing:
     - Visual indication of resolved state
     - Who resolved it
     - When it was resolved
*/}

Resolved comments show:
- Who resolved them
- When they were resolved
- Visual styling (often muted/crossed out)

### Unresolving Comments

If a discussion needs to reopen:
1. Find the resolved comment
2. Click **Unresolve** or **Reopen**

---

## Viewing Comments

### Active Comments

By default, the Comments tab shows unresolved (active) comments.

### Showing Resolved Comments

To see resolved comments:

1. Look for a filter or toggle option
2. Enable "Show resolved" or similar

{/* SCREENSHOT: show-resolved-filter.png
     Capture the filter/toggle showing:
     - Option to show resolved comments
     - Current state
*/}

### Comment Sorting

Comments are typically shown:
- Newest first (most recent activity)
- Or chronologically (oldest first)

Check your settings or the UI for sort options.

---

## Editing Comments

### Edit Your Comments

1. Find your comment
2. Click the **Edit** button (pencil icon or menu)
3. Modify the text
4. Save

{/* SCREENSHOT: edit-comment.png
     Capture a comment in edit mode showing:
     - Editable text area
     - Save/Cancel buttons
*/}

### Editing Restrictions

- You can only edit your own comments
- Administrators can edit any comment
- Edited comments may show "edited" indicator

---

## Deleting Comments

### Delete Your Comments

1. Find your comment
2. Click **Delete** (trash icon or menu)
3. Confirm deletion

### Deletion Policy

- You can delete your own comments
- Administrators can delete any comment
- Deleted comments may be soft-deleted (recoverable by admin)

### When to Delete

- You posted by mistake
- The comment is no longer relevant
- You're replacing it with a better comment

> **Note:** Consider editing instead of deleting to preserve context.

---

## Annotations

> **Note:** Full annotation features are planned for a future release.

### What Annotations Are

Annotations are comments tied to a specific location in a document:
- A specific page
- A highlighted section
- A marked area

### Current Support

Basic annotation data can be attached to comments:
- Position information
- Page references
- Selection details

### Future Capability

Visual annotation interface where you can:
- Click on a document area
- Add a comment at that location
- See comments overlaid on the document

---

## Comment Notifications

### When You're Notified

You may receive notifications when:
- Someone comments on a document you created
- Someone replies to your comment
- You're mentioned in a comment
- Activity occurs on documents you follow

### Managing Notifications

1. Go to **Settings**
2. Find **Notifications** section
3. Configure comment notification preferences

{/* SCREENSHOT: notification-settings-comments.png
     Capture the notification settings showing:
     - Comment-related notification options
     - Toggle switches or checkboxes
*/}

---

## Comment Permissions

### Who Can Comment

| Role | Can Comment | Can Resolve | Can Delete |
|------|-------------|-------------|------------|
| Viewer | No | No | No |
| User | Yes | Yes | Own comments |
| Project Manager | Yes | Yes | Project comments |
| Admin | Yes | Yes | All comments |

### Access Requirements

To comment on a document, you need:
- At least User role
- Access to the document's project
- Document not locked for comments

---

## Best Practices

### Writing Good Comments

**Do:**
- Be specific and actionable
- Reference exact locations ("page 3, paragraph 2")
- Keep it professional
- One topic per comment

**Don't:**
- Be vague ("this needs work")
- Post multiple small comments when one would do
- Leave comments that require context from elsewhere
- Ignore comments from others

### Maintaining Comments

- **Resolve when done** — Keep the active list clean
- **Reply to stay organized** — Use threads appropriately
- **Update status** — Add follow-up comments on progress

### Team Collaboration

- Check comments before starting work on a document
- Acknowledge feedback ("Thanks, I'll address this")
- Tag versions with comment resolutions

---

## Workflow Example

Here's a typical comment-based review:

```
Document v1 uploaded
      │
      ├── Comment: "Section 3 needs more detail" (Reviewer)
      │       └── Reply: "What specifically?" (Author)
      │       └── Reply: "Cost breakdown" (Reviewer)
      │
      ├── Comment: "Typo on page 5" (Reviewer)
      │
      └── Comment: "Legal disclaimer missing" (Legal)

Document v2 uploaded
      │
      ├── Original comments reviewed:
      │       ├── Section 3 → Added detail → Resolved
      │       ├── Typo → Fixed → Resolved
      │       └── Disclaimer → Added → Resolved
      │
      └── Comment: "v2 addresses all feedback" (Author)

Document marked Published
```

---

## Troubleshooting

### Can't Add Comments

**Check:**
- Your role (Viewer cannot comment)
- Project membership
- Document isn't locked

### Comment Not Appearing

**Try:**
- Refresh the page
- Check you're on the right document
- Verify the post was successful

### Can't Resolve Comment

**Possible causes:**
- You don't have permission
- Technical issue — try refreshing
- Comment already resolved

### Missing Comments

**Check:**
- "Show resolved" filter status
- You're viewing the right document
- Permissions haven't changed

---

## Technical Details

### Comment Data Structure

Each comment stores:

| Field | Description |
|-------|-------------|
| ID | Unique identifier |
| Text | Comment content |
| Author | Who posted it |
| Timestamp | When posted |
| Thread ID | Parent comment (if reply) |
| Resolution status | Resolved/unresolved |
| Annotation data | Position info (if applicable) |

### API Access

Developers can access comments via API:

```
GET  /api/v1/documents/{id}/comments
POST /api/v1/documents/{id}/comments
PATCH /api/v1/documents/{id}/comments/{id}
DELETE /api/v1/documents/{id}/comments/{id}
```

---

## Related Guides

| Topic | Guide |
|-------|-------|
| Documents overview | [Documents](documents.md) |
| Version control | [Versions](versions.md) |
| Team collaboration | [Teams](teams.md) |
| Future features | [Planned Features](../future/planned-features.md) |
